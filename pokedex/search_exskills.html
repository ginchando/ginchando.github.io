<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Brave Frontier</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
<script src="js/libs.js"></script>
</head>

<body>
<header class="w3-container w3-teal w3-card-2">
  <h5>SEARCH EX SKILLS</h5>
</header>
<form class="w3-form">
  <div class="w3-input-group">      
    <label class="w3-label w3-text-teal"><b>Input name or desc</b></label>
    <input class="w3-input w3-border" name="search" type="text">
  </div>
  <button class="w3-btn w3-teal">Search</button>
</form>

<div id="placeholder"> </div>
<script>
	var xmlhttp = new XMLHttpRequest();
	var url = "data/ex_skills.json";
	
	xmlhttp.onreadystatechange=function() {
		if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
			myFunction(xmlhttp.responseText);
		}
	}
	xmlhttp.open("GET", url, true);
	xmlhttp.send();
	
	var s = getURLParameter('search');
	var re = new RegExp(s, 'gi');
	
	function myFunction(response) {
		var arr = JSON.parse(response);
		var i;
		var out = "<ul class='w3-ul'>";
		//alert(arr.exskills.item.length);
		var json_len = arr.exskills.item.length;
		for(i = 0; i < json_len; i++) {
			var a = arr.exskills.item[i];
			var item_ex = arr.exskills.item[i];
			if (a.match(re)) {
				out+="<li>" + item_ex +"</li>";
			}
		}
		out+="</ul>";
		document.getElementById("placeholder").innerHTML = out;
	}
</script>
</body>
</html>
