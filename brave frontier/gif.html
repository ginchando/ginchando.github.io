<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>NttToon PlayGround</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:image" content="http://ntttoon.github.io/bravefrontier/images/fb_gif.jpg" />
<meta property="og:title" content="Brave Frontier GIF Gallery" />
<meta property="og:description" content="Units is Animation" />
<link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
<script src="../js/ga.js"></script>
</head>

<body>
<header class="w3-container w3-teal w3-card-2">
  <h5>BRAVE FRONTIER GIF GALLERY</h5>
</header>
<div id="placeholder"></div>
  	<!--<div class="w3-third w3-margin-bottom">
      <a href="" target="_blank">
        <div class="w3-card-2" style="background:url(images/battle_fire.jpg) no-repeat center center;background-size:cover;height:250px;text-align:center">
            <img src="http://vignette4.wikia.nocookie.net/bravefrontierglobal/images/7/7f/Unit_ills_anime_10017.gif/revision/latest?cb=20160216055403" >
        </div>
      </a>
  </div>-->
<script>
	var xmlhttp = new XMLHttpRequest();
	var url = "data/units.json";
	
	xmlhttp.onreadystatechange=function() {
		if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
			myFunction(xmlhttp.responseText);
		}
	}
	xmlhttp.open("GET", url, true);
	xmlhttp.send();
	
	function myFunction(response) {
		var arr = JSON.parse(response);
		var i;
		var out='<div class="w3-row-padding w3-margin-top">';

		var json_len = arr.brave.unit.length;
		for(i = 0; i < json_len; i++) {
			var id = arr.brave.unit[i].id;
			var element = arr.brave.unit[i].element;
			var gif = arr.brave.unit[i].gif['@path'];
			var gif_check = (gif == '')?'http://vignette4.wikia.nocookie.net/bravefrontierglobal/images/9/9a/Unit_ills_anime_60050.gif/revision/latest?cb=20140915185408':gif;
			//
			out+='<div class="w3-third w3-margin-bottom">';
			out+='<a href="unitinfo.html?id=' + id + '" target="_blank">';
			out+='<div class="w3-card-2" style="background:url(images/' + gifBackground(element) + ') no-repeat center center;background-size:cover;height:250px;text-align:center">';
			out+='<img src="' + gif_check + '" >';
			out+='</div></a></div>';
		}
		out+='</div>';
		document.getElementById("placeholder").innerHTML = out;
	}
	function gifBackground(element){
		switch(element)
		{
			case "Fire":
				return "battle_fire.jpg";
				break;
			case "Water":
				return "battle_water.jpg";
				break;
			case "Thunder":
				return "battle_thunder.jpg";
				break;
			case "Earth":
				return "battle_earth.jpg";
				break;
			case "Dark":
				return "battle_dark.jpg";
				break;
			case "Light":
				return "battle_light.jpg";
				break;
		}
	}
</script>
</body>
</html>
